<!DOCTYPE html>
<html>
  <head>
    <title>max's den</title>
    <meta
      name="description"
      content="Max's personal website - a creative space for projects and ideas"
    />
    <meta property="og:title" content="max's den" />
    <meta
      property="og:description"
      content="Max's personal website - a creative space for projects and ideas"
    />
    <meta property="og:type" content="website" />
    <link rel="stylesheet" href="/css/styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/3.1.2/fullpage.min.css"
      integrity="sha512-4rPgyv5iG0PZw8E+oMi8eitz/MdUSRbXe3u1lHh23vONYXuGrbeq7HlMa7IdkZ8LaudZd2z05KYW2IXvKmq3Mg=="
      crossorigin="anonymous"
    />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/3.1.2/fullpage.min.js"
      integrity="sha512-zo1lOX6iQ7A8BZv3I3aQz4eWVXS9L5Lt2mzc3bFnpFA/qNrDyn3Bh5fPBkaVsEgh3IwYZ3f6jOveMkyrkdy7w=="
      crossorigin="anonymous"
    ></script>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <button
      class="logo"
      onclick="toggleDarkMode()"
      aria-label="Toggle dark mode"
      type="button"
    >
      <img id="logo-image" src="/assets/dark.svg" alt="Dark mode toggle icon" />
    </button>
    <div id="fullpage">
      <div class="section">
        <header>
          <h1>
            <span class="heading1">loading ‎ ‎ ‎ ‎‎‎ ‎ ‎ ‎ ‎ ‎‎‎ ‎ ‎ ‎ </span>
            <span class="heading2 blinking-cursor">pls be patient...</span>
          </h1>
        </header>
      </div>

      <div class="section">
        <main>
          <section>
            <h2>intro</h2>
            <div class="textarea">
              <p>hi, im max and this is my website.</p>
            </div>
          </section>
        </main>
      </div>

      <div class="section">
        <main>
          <section id="whitepaper">
            <h2>hi again</h2>
            <p>
              nothing much to see here but i will add or update stuff when i get
              time >.<
            </p>
          </section>

          <section class="btn-container">
            <div class="btn-wrapper">
              <a href="/pages/susstuff.html" class="btn">#susstuff</a>
            </div>
            <div class="btn-wrapper">
              <a href="/pages/suspromax.html" class="btn">#suspromax</a>
            </div>
          </section>
        </main>
      </div>
    </div>

    <script src="/scripts/script.js"></script>
    <script>
      // Typewriter effect function
      function typeWriter(element, text, speed, callback) {
        var i = 0;
        element.textContent = "";
        element.classList.remove("blinking-cursor");
        function type() {
          if (i < text.length) {
            element.textContent += text.charAt(i);
            i++;
            setTimeout(type, speed);
          } else if (callback) {
            setTimeout(callback, 200);
          }
        }
        type();
      }

      // Scroll troll timer
      var hasScrolled = false;
      var scrollTimer = setTimeout(function () {
        if (!hasScrolled) {
          var heading1 = document.querySelector(".heading1");
          var heading2 = document.querySelector(".heading2");
          var h1 = document.querySelector("header h1");
          var header = document.querySelector("header");
          if (heading1 && heading2 && h1 && header) {
            // Clear original text first
            heading1.textContent = "";
            heading2.textContent = "";
            h1.style.fontSize = "8vw";
            header.style.justifyContent = "flex-start";

            // Start typewriter after clearing
            setTimeout(function () {
              typeWriter(
                heading1,
                "bruh, are you not gonna scroll?",
                80,
                function () {
                  typeWriter(heading2, "i was trolling you", 80);
                }
              );
            }, 100);
          }
        }
      }, 10000);

      new fullpage("#fullpage", {
        sectionsColor: [
          "#1bbc9b",
          "#4BBFC3",
          "#7BAABE",
          "whitesmoke",
          "#ccddff",
        ],
        onLeave: function (origin, destination, direction) {
          // User scrolled, cancel the timer
          if (!hasScrolled) {
            hasScrolled = true;
            clearTimeout(scrollTimer);
          }
        },
      });

      function toggleDarkMode() {
        var element = document.body;
        element.classList.toggle("dark-mode");

        var logoImage = document.getElementById("logo-image");

        if (logoImage.src.endsWith("dark.svg")) {
          logoImage.src = "/assets/white.svg";
          localStorage.setItem("darkMode", "enabled");
        } else {
          logoImage.src = "/assets/dark.svg";
          localStorage.setItem("darkMode", "disabled");
        }
      }

      // Check for saved dark mode preference
      if (localStorage.getItem("darkMode") === "enabled") {
        document.body.classList.add("dark-mode");
        document.getElementById("logo-image").src = "/assets/white.svg";
      }
    </script>
  </body>
</html>
